<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Галерея прев'юшок → PDF</title>
  <style>
    :root{--thumb-size:400px;--gap:16px}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      line-height:1.4;
      margin:20px;
      color:#111;
      background:#e0e0e0;
    }
    h1{
      margin:0 0 12px;
      text-align:center;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(var(--thumb-size), 1fr));
      gap:var(--gap);
      justify-content:center;
    }
    .card{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      background:#fff;
      border-radius:10px;
      padding:12px;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
      text-decoration:none;
      color:inherit;
      transition:transform 0.2s, box-shadow 0.2s;
    }
    .card:hover{
      transform:translateY(-3px);
      box-shadow:0 4px 12px rgba(0,0,0,0.25);
    }
    .thumb{
      width:var(--thumb-size);
      height:var(--thumb-size);
      position:relative;
      overflow:hidden;
      border-radius:8px;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .thumb img,
    .thumb iframe{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }
    .thumb iframe{
      position:absolute;
      top:0;
      left:0;
      border:none;
      display:none; /* спочатку приховане */
    }
    .caption{
      margin-top:10px;
      font-size:18px;
      font-weight:600;
      word-break:break-word;
      color:#0073e6;
    }
  </style>
</head>
<body>
  <h1>Lego EV3</h1>
  
  <div id="gallery" class="grid"></div>

  <script>
    const manualFiles = [
      '4ebishev.jpg',
      'Anglerfish.jpg',
      'Ball_conveyor.jpg',
      'Bobb3e.jpg',
      'Chicken.jpg',
      'Clock.jpg',
      'Color_sorter.jpg',
      'Cor3.jpg',
      'Crocodile.jpg',
      'Dinor3x.jpg',
      'Dinosaur.jpg',
      'Droidbot.jpg',
      'Elephant.jpg',
      'Ev3d4.jpg',
      'Ev3meg.jpg',
      'Ev3rstorm.jpg',
      'Flower.jpg',
      'Gimnast.jpg',
      'Gorilla.jpg',
      'Gripp3r.jpg',
      'Guardian.jpg',
      'Guitar.jpg',
      'Gyro_boy.jpg',
      'Helicopter.jpg',
      'Hexapod.jpg',
      'Insect.jpg',
      'Kraz3.jpg',
      'Minikuper.jpg',
      'Motobike.jpg',
      'Motobike_2.jpg',
      'Mr_b3am.jpg',
      'Pen-arm.jpg',
      'Pleziozaur.jpg',
      'Printer.jpg',
      'Pterozaur.jpg',
      'Puppy.jpg',
      'R3ptar.jpg',
      'Rabbit.jpg',
      'Rac3_truck.jpg',
      'Race_car_2.jpg',
      'Remote_control.jpg',
      'Robert.jpg',
      'Robocar.jpg',
      'Robodoz3r.jpg',
      'Robot_arm.jpg',
      'Roost3r.jpg',
      'Sorter-bot.jpg',
      'Speed-bot.jpg',
      'Speed_Bot_with_Eyes.jpg',
      'Spik3r.jpg',
      'Spiner.jpg',
      'Spinner_factory.jpg',
      'Stair_climber.jpg',
      'Tank_bot.jpg',
      'Tank_bot_2.jpg',
      'Tiranozaur.jpg',
      'Toddle-bot.jpg',
      'Track3r.jpg',
      'Triceratops.jpg',
      'Turtle.jpg',
      'Vasyl.jpg',
      'Wack3m.jpg',
      'Walking_robot.jpg',
      'Walking_robot_2.jpg',
      'Walking_wagon.jpg',
      'Znap.jpg',
      'Bot_with_Ball.jpg',
      'Bot_Orbit.jpg',
      'Coach_Bot.jpg',
      'Hammer.jpg',
      'Minimal_Bot.jpg',
      'One_Motor_Bot.jpg',
      'Race_car.jpg',
      'Simplebot.jpg'
    ];

    const videoMap = {
      '4ebishev': 'NP1DPYOJFRA',
      'Anglerfish': 'vL2NVfLPYYM',
      'Ball_conveyor': '_aa5d0CyB6o',
      'Bobb3e': 'aK4O9j9c7_k',
      'Chicken': 'YvW0uS35Jzk',
      'Clock': 'FzMOKMyUvGc',
      'Color_sorter': '-SMlPAJ0YFs',
      'Cor3': 'TFHeM_0MaJk',
      'Crocodile': 'DbzQjvFEbZc',
      'Dinor3x': 'Qhdzeuxk2AA',
      'Dinosaur': '_92LvkwBfzY',
      'Droidbot': '8xhQzYxRj6k',
      'Elephant': 'oYJCaeYTWnw',
      'Ev3d4': 'CoPfaX5CA9Q',
      'Ev3meg': '0fbkstN5fKM',
      'Ev3rstorm': '6_o3rQ3QTXw',
      'Flower': 'hGYrpqXDDcU',
      'Gimnast': 'IlV8xhsbOCs',
      'Gorilla': '_gEiqQaDoLM',
      'Gripp3r': 'I4i5VNcibJg',
      'Guardian': 'GbCblII0X3E',
      'Guitar': 'Bm7LIG88qjI',
      'Gyro_boy': 'qtRSNxaTgxQ',
      'Helicopter': '6hBzn5pKndU',
      'Hexapod': 'yFuIiHVuW38',
      'Insect': 'PoeYoiXHHE4',
      'Kraz3': 'R834XKjegBg',
      'Minikuper': 'kAvduVtT748',
      'Motobike': 'iHxcVSGr_Oc',
      'Motobike_2': 'DrTPjTrh4qo',
      'Mr_b3am': '1VS_uHXAY7U',
      'Pen-arm': 'dmUapEFmgvY',
      'Pleziozaur': '9sVGCc8qPt4',
      'Printer': 'nE0UpVJ91wE',
      'Pterozaur': 'ZpTedayO7Fs',
      'Puppy': 'FWSSJgW1RzU',
      'R3ptar': 'emN7uyCux00',
      'Rabbit': '81YG5e4n4Uo',
      'Rac3_truck': '6AKjAwMf8Nw',
      'Race_car_2': '2chlg-unKo0',
      'Remote_control': 'tr0N52ucerI',
      'Robert': 'ZAPHOIGE2KQ',
      'Robocar': 'aiRL6ufnJaQ',
      'Robodoz3r': '-Yn6Um_tbfc',
      'Robot_arm': '9cTo20lmyKY',
      'Roost3r': '3bX3fET-QUo',
      'Sorter-bot': 'hBvlz2SpEQw',
      'Speed-bot': 'Po8U_vW3uPA',
      'Speed_Bot_with_Eyes': '',
      'Spik3r': 'kjhXaa_nSpU',
      'Spiner': 'WhtZ3QwwuaI',
      'Spinner_factory': 'faiMd4ZGkH0',
      'Stair_climber': '7Su9eRApCBw',
      'Tank_bot': 'V6hXFiIsGhQ',
      'Tank_bot_2': 'wm6nqHX_NE4',
      'Tiranozaur': 'vVUSiW7l27k',
      'Toddle-bot': '4uSH7y_XjbY',
      'Track3r': '61Z8SA2N_BI',
      'Triceratops': 'CApi_EE_K2s',
      'Turtle': 'mrx-MXLjXOs',
      'Vasyl': 'TWRSYDEtWes',
      'Wack3m': 'Imvu4S8AM2w',
      'Walking_robot': '5kc-TRj_5rs',
      'Walking_robot_2': 'DVGzpMJ8Qng',
      'Walking_wagon': 'GFP3PurbX7k',
      'Znap': 'b7WZZyRzPDY',
      'Bot_with_Ball': '',
      'Bot_Orbit': '',
      'Coach_Bot': '',
      'Hammer': '',
      'Minimal_Bot': '',
      'One_Motor_Bot': '',
      'Race_car': '',
      'Simplebot': ''
    };

    function filenameWithoutExt(name){
      return name.replace(/\.[^.]+$/,'');
    }

    function createCard(imgName){
      const base = filenameWithoutExt(imgName);
      const pdfPath = './pdf/' + base + '.pdf';

      const link = document.createElement('a');
      link.href = pdfPath;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.className = 'card';

      const thumb = document.createElement('div');
      thumb.className = 'thumb';

      const img = document.createElement('img');
      img.src = './img/' + imgName;
      img.alt = base;
      img.loading = 'lazy';
      thumb.appendChild(img);

      if(videoMap[base]){
        const iframe = document.createElement('iframe');
        const videoId = videoMap[base];
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&controls=0&loop=1&playlist=${videoId}`;
        iframe.allow = 'autoplay';
        thumb.appendChild(iframe);

        thumb.addEventListener('mouseenter', () => {
          img.style.display = 'none';
          iframe.style.display = 'block';
        });
        thumb.addEventListener('mouseleave', () => {
          iframe.style.display = 'none';
          img.style.display = 'block';
        });
      }

      const caption = document.createElement('div');
      caption.className = 'caption';
      caption.textContent = base;

      link.appendChild(thumb);
      link.appendChild(caption);

      return link;
    }

    const gallery = document.getElementById('gallery');
    manualFiles.forEach(f => {
      gallery.appendChild(createCard(f));
    });
  </script>
</body>
</html>
